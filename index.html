<!DOCTYPE html>
<html oncontextmenu="return false;">
  <head>
    <title>Window</title>
  </head>
  <body onload="if (localStorage.getItem('allowed') == 'true') {document.getElementById('openButton').disabled = false; document.getElementById('adminlock').style.display = 'none'; document.title = 'LoMoH'; document.getElementById('message').innerText = 'Welcome to the LoMoH launcher!';}" onbeforeunload="win.close();">
    <div hidden id="timer" style="position: absolute;">
      TIMER: 0
    </div>
    <center>
    <button disabled class="button" id="openButton" onclick="win = window.open('https://docs.google.com/forms/u/0/d/e/1FAIpQLSf5EYwrSUjmQhBOasMpORZy80eBCYb7qCpEwWNoRPUGyObGMA/startquiz', 'win', 'left = 99999, width = 500, height = 512'); document.getElementById('startTimer').hidden = false; document.getElementById('timer').hidden = false; if (timer == 0) {timer = '0'; update();}"><image id="adminlock" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAFxGAABcRgEUlENBAAAAYElEQVRIiWOgNWAEmd/Q1v2fXHsaqkoZ8ckz0doHQ98CrHGAL1xJiS+QOUM/iFgoNQA9ONGDEKsFlOQLdDBM44CUZEooOEeT6WgypRzgjANCYUtInG4+GPoW0BYwMDAAAOf2Jnct5oH1AAAAAElFTkSuQmCC" width="16px">&nbsp</image>Open Window</button>
    <button hidden class="button" id="startTimer" onmousedown="win.focus();" onclick="if (timer > 0) {clearInterval(tickTimer); timer = 0; update(); document.getElementById('timer').hidden = true;} else {timer = 3; update(); tickTimer = setInterval('timer -= 1; if (timer <= 0) {clearInterval(tickTimer); timer = 0; win.close();} update();', 1000);}">Start Timer</button>
    <span id="message">
      Hello there. Sorry, the form is shut down from the public.
    </span>
    </center>
    <a style="position: absolute; right: 10px; top: 10px; background: url(https://ssl.gstatic.com/docs/spreadsheets/forms/favicon_qp2.png) no-repeat" href="https://docs.google.com/forms/d/e/1FAIpQLSdfGmzw6aZcFqMACsXR_zD2mQSFI58srz54UqIjcV3kvaNrtQ/viewform" target="_blank">&nbsp&nbsp&nbsp&nbsp&nbspTutorial</a>
    <em style="position: absolute; right: 10px; bottom: 10px;" onclick="localStorage.clear();" oncontextmenu="localStorage.setItem('allowed', 'true');">Made by Ashton Davies</em>
    <input autofocus="true" onfocusout="this.focus();" onkeydown="return false;"></input>
	 <script>
		 function update() {
			 document.getElementById("timer").innerText = "TIMER: " + timer;
			 if (timer > 0) {
				 document.getElementById("startTimer").innerText = "Stop Timer";
				 document.getElementById('timer').hidden = false;
			 }
			 else {
				 document.getElementById("startTimer").innerText = "Start Timer";
			 }
		 }
	 </script>
  </body>
  <style>
    .button {
      padding: 10px;
      border: 2px solid black;
      border-radius: 5px;
      color: black;
      background-color: lightgray;
      font-family: Arial;
		font-size: 16px;
		font-weight: bold;
      text-decoration: none;
		cursor: pointer;
      user-select: none;
      -webkit-user-select: none;
    }
    .button:hover {
      filter: drop-shadow(0px 0px 1px black);
    }
    .button:active {
      filter: drop-shadow(0px 0px 2px black);
    }
    .button:disabled {
      display: flex;
      opacity: 50%;
      filter: none;
		cursor: default;
    }
    span {
      position: absolute;
      left: 50%;
      bottom: 10px;
      transform: translateX(-50%);
      padding: 2px;
      padding-left: 10px;
      padding-right: 10px;
      background-color: lightgray;
      border-radius: 10px;
    }
    input {
      opacity: 0;
    }
  </style>
</html>
